import{D as e,f as t,j as n,m as r,p as i,s as a,u as o}from"./chunks/runtime-core.esm-bundler.GPd0UUT2.js";import{t as s}from"./chunks/plugin-vue_export-helper.vLQRRiu9.js";const c=JSON.parse(`{"title":"MPA モード","description":"","frontmatter":{},"headers":[],"relativePath":"ja/guide/mpa-mode.md","filePath":"ja/guide/mpa-mode.md","lastUpdated":1760169437000}`);var l={name:`ja/guide/mpa-mode.md`},u={id:`mpa-mode`,tabindex:`-1`};function d(s,c,l,d,f,p){let m=n(`Badge`);return e(),o(`div`,null,[a(`h1`,u,[c[0]||=i(`MPA モード `,-1),r(m,{type:`warning`,text:`experimental`}),c[1]||=i(),c[2]||=a(`a`,{class:`header-anchor`,href:`#mpa-mode`,"aria-label":`Permalink to “MPA モード”`},`​`,-1)]),c[3]||=t(`<p>MPA（Multi-Page Application）モードは、コマンドラインの <code>vitepress build --mpa</code>、または設定で <code>mpa: true</code> を指定することで有効化できます。</p><p>MPA モードでは、既定で <strong>あらゆるページが JavaScript を含まずに</strong> レンダリングされます。結果として、本番サイトは監査ツールにおける初回訪問のパフォーマンススコアが向上しやすくなります。</p><p>一方、SPA のナビゲーションがないため、ページ間リンクはフルリロードになります。読み込み後のページ遷移は、SPA モードのような即時性はありません。</p><p>また、「既定で JS なし」ということは、実質的に Vue をサーバーサイドのテンプレート言語としてのみ使うことを意味します。ブラウザ側ではイベントハンドラがアタッチされないため、インタラクティブ性はありません。クライアントサイドの JavaScript を読み込むには、特別な <code>&lt;script client&gt;</code> タグを使用します：</p><div class="language-html"><button title="コードをコピー" class="copy"></button><span class="lang">html</span><pre class="shiki shiki-themes github-light github-dark" style="--shiki-light:#24292e;--shiki-dark:#e1e4e8;--shiki-light-bg:#fff;--shiki-dark-bg:#24292e;" tabindex="0" dir="ltr"><code><span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">&lt;</span><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">script</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> client</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">&gt;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">document.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">querySelector</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&#39;h1&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">).</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">addEventListener</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&#39;click&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, () </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=&gt;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> {</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  console.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">log</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&#39;client side JavaScript!&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">)</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">})</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">&lt;/</span><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">script</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">&gt;</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"># Hello</span></span></code></pre></div><p><code>&lt;script client&gt;</code> は VitePress 固有の機能であり、Vue の機能ではありません。<code>.md</code> と <code>.vue</code> の両方で動作しますが、<strong>MPA モード時のみ</strong> 有効です。テーマコンポーネント内のクライアントスクリプトはひとつにバンドルされ、特定ページ専用のクライアントスクリプトはそのページごとに分割されます。</p><p>なお、<code>&lt;script client&gt;</code> は <strong>Vue コンポーネントのコードとしては評価されません</strong>。プレーンな JavaScript モジュールとして処理されます。このため、MPA モードはクライアント側のインタラクションを極力最小限に抑えたいサイトにのみ使用するのが適しています。</p>`,7)])}var f=s(l,[[`render`,d]]);export{c as __pageData,f as default};