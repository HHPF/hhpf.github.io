import{D as e,f as t,u as n}from"./chunks/runtime-core.esm-bundler.GPd0UUT2.js";import{t as r}from"./chunks/plugin-vue_export-helper.vLQRRiu9.js";const i=JSON.parse(`{"title":"最后更新于","description":"","frontmatter":{},"headers":[],"relativePath":"zh/reference/default-theme-last-updated.md","filePath":"zh/reference/default-theme-last-updated.md","lastUpdated":1762974228000}`);var a={name:`zh/reference/default-theme-last-updated.md`};function o(r,i,a,o,s,c){return e(),n(`div`,null,[...i[0]||=[t(`<h1 id="last-updated" tabindex="-1">最后更新于 <a class="header-anchor" href="#last-updated" aria-label="Permalink to “最后更新于”">​</a></h1><p>最近一条内容的更新时间会显示在页面右下角。要启用它，请将 <code>lastUpdated</code> 选项添加到配置中。</p><div class="tip custom-block"><p class="custom-block-title custom-block-title-default">TIP</p><p>VitePress 通过每个文件最近一次 Git 提交的时间戳显示&quot;最后更新&quot;时间，因此你必须提交 markdown 文件才能看到最后更新时间。</p><p>具体实现上，VitePress 会对每个文件执行<code>git log -1 --pretty=&quot;%ai&quot;</code>命令以获取时间戳。若所有页面显示相同的更新时间，可能是由于浅克隆（常见于 CI 环境）导致 Git 历史记录受限所致。</p><p>在 <strong>GitHub Actions</strong> 中修复此问题，请在工作流中添加以下配置：</p><div class="language-yaml"><button title="复制代码" class="copy"></button><span class="lang">yaml</span><pre class="shiki shiki-themes github-light github-dark" style="--shiki-light:#24292e;--shiki-dark:#e1e4e8;--shiki-light-bg:#fff;--shiki-dark-bg:#24292e;" tabindex="0" dir="ltr"><code><span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">- </span><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">name</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">Checkout</span></span>
<span class="line"><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">  uses</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">actions/checkout@v5</span></span>
<span class="line"><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">  with</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">:</span></span>
<span class="line highlighted"><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">    fetch-depth</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">0</span></span></code></pre></div><p>其他 CI/CD 平台也有类似设置。</p><p>若上述选项不可用，可在 <code>package.json</code> 中的 <code>docs:build</code> 命令后手动添加获取操作：</p><div class="language-json"><button title="复制代码" class="copy"></button><span class="lang">json</span><pre class="shiki shiki-themes github-light github-dark" style="--shiki-light:#24292e;--shiki-dark:#e1e4e8;--shiki-light-bg:#fff;--shiki-dark-bg:#24292e;" tabindex="0" dir="ltr"><code><span class="line"><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;docs:build&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;git fetch --unshallow &amp;&amp; vitepress build docs&quot;</span></span></code></pre></div></div><h2 id="site-level-config" tabindex="-1">全局配置 <a class="header-anchor" href="#site-level-config" aria-label="Permalink to “全局配置”">​</a></h2><div class="language-js"><button title="复制代码" class="copy"></button><span class="lang">js</span><pre class="shiki shiki-themes github-light github-dark" style="--shiki-light:#24292e;--shiki-dark:#e1e4e8;--shiki-light-bg:#fff;--shiki-dark-bg:#24292e;" tabindex="0" dir="ltr"><code><span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">export</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> default</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> {</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  lastUpdated: </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">true</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">}</span></span></code></pre></div><h2 id="frontmatter-config" tabindex="-1">frontmatter 配置 <a class="header-anchor" href="#frontmatter-config" aria-label="Permalink to “frontmatter 配置”">​</a></h2><p>可以使用 frontmatter 上的 <code>lastUpdated</code> 选项单独禁用某个页面的最后更新展示：</p><div class="language-yaml"><button title="复制代码" class="copy"></button><span class="lang">yaml</span><pre class="shiki shiki-themes github-light github-dark" style="--shiki-light:#24292e;--shiki-dark:#e1e4e8;--shiki-light-bg:#fff;--shiki-dark-bg:#24292e;" tabindex="0" dir="ltr"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">---</span></span>
<span class="line"><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">lastUpdated</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">false</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">---</span></span></code></pre></div><p>另请参阅<a href="./default-theme-config#lastupdated">默认主题：最后更新时间</a> 了解更多详细信息。主题级别的任何 <a href="https://developer.mozilla.org/zh-CN/docs/Glossary/Truthy" target="_blank" rel="noreferrer">truthy</a> 值也将启用该功能，除非在站点或页面级别明确禁用。</p>`,9)]])}var s=r(a,[[`render`,o]]);export{i as __pageData,s as default};